
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <script type="text/javascript">
    var host = "wsgzao.github.io";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
  </script> 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LJ3PMGPVCK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LJ3PMGPVCK');
</script>
  
    <title>Linux kernel 内核升级和降级的方法实践 | HelloDog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="wsgzao">
    

    
    <meta name="description" content="Linux kernel内核升级和降级的方法实践">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux kernel 内核升级和降级的方法实践">
<meta property="og:url" content="https://wsgzao.github.io/post/linux-kernel-update/index.html">
<meta property="og:site_name" content="HelloDog">
<meta property="og:description" content="Linux kernel内核升级和降级的方法实践">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-01-28T08:37:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux kernel 内核升级和降级的方法实践">
<meta name="twitter:description" content="Linux kernel内核升级和降级的方法实践">

    
    <link rel="alternative" href="/atom.xml" title="HelloDog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="HelloDog" title="HelloDog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="HelloDog">HelloDog</a></h1>
				<h2 class="blog-motto">Keep Calm and Carry On</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页 | Home</a></li>
					
						<li><a href="/index/">索引 | Index</a></li>
					
						<li><a href="/archives/">归档 | Archives</a></li>
					
						<li><a href="/about/">简介 | About</a></li>
					
					<li>
 					
						<form class="search">
							<label>Search</label>
						<input type="text" id="search" class="st-default-search-input" name="q" size="30" placeholder="搜索"><br>
						</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/post/linux-kernel-update/" title="Linux kernel 内核升级和降级的方法实践" itemprop="url">Linux kernel 内核升级和降级的方法实践</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="wsgzao" target="_blank" itemprop="author">wsgzao</a>
		
  <p class="article-time">
    <time datetime="2019-01-27T06:59:49.000Z" itemprop="datePublished"> 发表于 2019-01-27</time>
    
  </p>
</header>
	<div class="article-content">
<!-- 		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#更新历史"><span class="toc-number">2.</span> <span class="toc-text">更新历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-内核简介"><span class="toc-number">3.</span> <span class="toc-text">Linux 内核简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-内核版本"><span class="toc-number">3.1.</span> <span class="toc-text">Linux 内核版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-升级新内核的目的"><span class="toc-number">3.2.</span> <span class="toc-text">安装 / 升级新内核的目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-升级的方法和建议"><span class="toc-number">3.3.</span> <span class="toc-text">安装 / 升级的方法和建议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内核软件包介绍"><span class="toc-number">3.4.</span> <span class="toc-text">内核软件包介绍</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在-CentOS-上安装-升级内核"><span class="toc-number">4.</span> <span class="toc-text">在 CentOS 上安装 / 升级内核</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在-CentOS-上降级内核"><span class="toc-number">5.</span> <span class="toc-text">在 CentOS 上降级内核</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kernel-Change-Log"><span class="toc-number">6.</span> <span class="toc-text">Kernel Change Log</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Version-3-10-0-957-el7-系列"><span class="toc-number">6.1.</span> <span class="toc-text">Version: 3.10.0-957.el7[系列]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Version-3-10-0-862-el7-系列"><span class="toc-number">6.2.</span> <span class="toc-text">Version: 3.10.0-862.el7[系列]</span></a></li></ol></li></ol>
		
		</div>
		 -->
		<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>相信现在很多公有云包括企业内部已经开始使用 Linux 内核热补丁 Livepatch，没人喜欢重启机器但现实是还得再等等。通常升级内核可能有多种原因，频率最高的比如修复安全漏洞，然而我们也会遇到需要降级内核的情况，比如向下兼容或者升级后产生新的严重 Bug 需要回退。本文主要以 CentOS 为例介绍内核的升级和降级方案，虽然官方一直坚持使用旧内核 3.10 版本，但这也是追求极致稳定的权衡结果，有高版本内核需求比如 4.10 以上我们可以手动升级也可以更换 Ubuntu 等其它操作系统，对线上生产环境始终保持一颗敬畏之心。</p>
<blockquote>
<p>Linux kernel 内核升级和降级的方法实践</p>
</blockquote>
<h2 id="更新历史"><a href="#更新历史" class="headerlink" title="更新历史"></a>更新历史</h2><p>2019 年 01 月 27 日 - 初稿</p>
<p>阅读原文 - <a href="https://wsgzao.github.io/post/linux-kernel-update/">https://wsgzao.github.io/post/linux-kernel-update/</a></p>
<p><strong> 扩展阅读 </strong></p>
<p>kernel - <a href="https://www.kernel.org/" target="_blank" rel="noopener">https://www.kernel.org/</a></p>
<hr>
<h2 id="Linux-内核简介"><a href="#Linux-内核简介" class="headerlink" title="Linux 内核简介"></a>Linux 内核简介</h2><p>Linux 内核是一个整体的类 Unix 计算机操作系统内核。通常我们使用的 Linux 发行版，如 Red Hat、Debian、SUSE 等，这些都称为 Linux 的分发版。一个典型的分发版，是由 Linux 内核，以及支持的许多由 GNU 项目提供的应用程序、GNU 组件，C 标准库，CLI shell，X windows 等组成的一个完整操作系统。我们应该要知道的是，Linux 的定义仅仅是 Linux 内核，所有的”Linux” 发行版实际上是以 Linux 为内核的 GNU 系统的版本。不同的 Linux 内核版本都有其生命周期，Linux 内核组织或 Linux 发行版厂商只在该日期提供错误或漏洞修复，我们可以从从内核的版本号区分辨别，比如版本 3.16.43，该数字 3.16 表示一个长期版本，43 则表示错误修订之后再发行的具体版本号，当然我这里描述的只是提供一个参考价值，更细致的版本还有可能是 3.16.43-1 这种。值得我们关注的是，任何内核版本错误修复后的再发布版本都应该是我们考虑升级使用的内核版本。</p>
<h3 id="Linux-内核版本"><a href="#Linux-内核版本" class="headerlink" title="Linux 内核版本"></a>Linux 内核版本</h3><p>Linux 内核版本分为主线、稳定和长期版本。所有内核版本都可以在内核开发官方网站 <a href="https://www.kernel.org" target="_blank" rel="noopener">https://www.kernel.org</a> 上获取，目前我们看到最新的稳定内核版本为 4.20.5。</p>
<p>主线版本代表整个 Linux 内核的一个树干，新的主线版本每 2-3 个月发布一次，所有的新功能及特性都将会包含主线版本中。稳定内核则是在主线版本中，被认为是” 稳定的” 得出。稳定内核的任何错误修复都将从主线树中返回，也就是主线内核出现的任何错误 (包括之前的任何旧版本内核的错误和 BUG) 在得到修复之后才会被指定为稳定内核，所以在通常情况下，稳定内核既有内核新功能，同时 BUG 也是最少的内核版本。稳定内核的更新发布依赖于主线内核 (直到下一个主线内核可用)，稳定的内核更新是根据需要发布的，通常是每 3 个月。而对于长期内核版本，通常提供几个” 长期维护” 内核版本，用于较早的内核树错误修复返回的目的。这些内核只应用重要的错误修复，通常不会有非常频繁的更新。</p>
<p>主线、稳定和长期都是活动内核版本，由 Linus Torvalds 及 Linux 内核组织维护和释放。 而我们平时所使用的 Linux 发行版的内核都为分发内核，许多 Linux 发行版都提供自己的” 长期维护” 内核版本，这些内核可能是也可能不是基于内核开发人员维护的内核。因此分发版本的内核版本由发行版的厂商决定并有自己的维护周期，通常由分发版更新时一起发布。</p>
<h3 id="安装-升级新内核的目的"><a href="#安装-升级新内核的目的" class="headerlink" title="安装 / 升级新内核的目的"></a>安装 / 升级新内核的目的</h3><ul>
<li>许多出于对安全的考虑，如避免以前版本中发现的漏洞</li>
<li>更充分地认识内核，了解内核的各个内核模块和功能</li>
<li>更好的利用 / 体验新内核的的新功能和特性</li>
</ul>
<h3 id="安装-升级的方法和建议"><a href="#安装-升级的方法和建议" class="headerlink" title="安装 / 升级的方法和建议"></a>安装 / 升级的方法和建议</h3><ol>
<li>对于 CentOS/RHEL 系统，尽量使用 yum 方式或 RPM 包安装 / 升级内核，需要注意的是红帽的 Red Hat Linux 服务需要订阅。</li>
<li>使用安装新内核而不是直接升级内核，安装新内核不会覆盖旧内核，而升级会导致新内核直接替换旧内核，可能会导致系统无法启动，安装也可以让我们在升级后有回滚的选择。</li>
<li>一般地，对于大多数 Linux 分发版，使用 yum/dnf 和分发版布官方的存储库来升级内核，这种方式只能升级到该分发版的存储库提供的最新版本，而不是 Linux 内核组织发布的最新内核。</li>
<li>如果想迅速并且安全地使用最新内核，对于 CentOS/RHEL 系统并不支持 yum 的方式直接安装或升级。那么此时我们可以使用 ELRepo(第三方存储库) 进行内核安装升级。</li>
<li>下载新内核的源码包进行编译安装，这种方式有助于我们更细致地学习内核底层知识，但在生产环境中不推荐编译安装。</li>
<li>尽量使用最新的 Linux 发行版，新的 Liunx 发行版包含该发行版维护的新内核，如果有必要，那么请使用如 yum upgrade 或者 yum update 来更新你的系统。对于 Ubuntu、Debian 等发行版，使用 apt-get update 方式来更新。</li>
</ol>
<h3 id="内核软件包介绍"><a href="#内核软件包介绍" class="headerlink" title="内核软件包介绍"></a>内核软件包介绍</h3><p>kernel<br>Linux 内核软件包，包含单、多核和多处理器系统的内核，是任何 Linux 操作系统的核心，单处理器的系统仅需安装内核包。内核处理操作系统的基本功能: 内存分配、进程分配、设备输入和输出等</p>
<p>kernel-devel<br>包含提供足够的针对内核软件包构建模块的内核头文件和 makefile 文件</p>
<p>kernel-headers<br>包含指定 Linux 内核、用户空间库文件和程序之间指定接口的 C 头文件。头文件定义了构建大多数标准程序所需的结构和常量，也是重建 glibc 软件包所必需的</p>
<p>kernel-doc<br>包含来自内核源代码的文档文件。各种关于 Linux 内核和设备以及驱动程序的信息都记录在这些文件当中</p>
<p>kernel-firmware<br>包含对于某些设备及其操作的固件信息文件</p>
<p>kernel-debug<br>包含许多对于内核 debug 诊断和调试的启用选项，只有当我们需要尝试收集额外的内核错误信息时才应该安装它。它是以牺牲性能为代价</p>
<p>kernel-debug-devel<br>包含内核 debug 诊断和调试的启用选项，以牺牲性能为代价</p>
<h2 id="在-CentOS-上安装-升级内核"><a href="#在-CentOS-上安装-升级内核" class="headerlink" title="在 CentOS 上安装 / 升级内核"></a>在 CentOS 上安装 / 升级内核</h2><p>Linux 内核升级通常有两种方式</p>
<ol>
<li>下载新版内核到服务器上，进行编译安装，之后删除老内核, 优点是：可完全控制编译项, 缺点是：慢，且容易失败；</li>
<li>采用 yum 方式安装, 优点是：快捷方便，成功率高。</li>
</ol>
<p>我这里采用第二种方式来安装, 采用 yum 安装最多也就三五分钟的事, 万一失败还能补救。</p>
<p>Linux OS version: CentOS Linux release 7.5.1804 (Core)<br>Linux kernel 升级原因: CPU 性能优化<br>Linux kernel 当前版本: 3.10.0-862.el7.x86_64<br>Linux kernel 目标版本: 3.10.0-862.14.4.el7.x86_64</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前操作系统版本 </span></span><br><span class="line">cat /etc/redhat-release</span><br><span class="line">CentOS Linux release 7.5.1804 (Core)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看当前内核 </span></span><br><span class="line">uname -r</span><br><span class="line">3.10.0-862.el7.x86_64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 yum 可升级的内核版本 </span></span><br><span class="line">yum list kernel --showduplicates</span><br><span class="line"></span><br><span class="line">Installed Packages</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.el7                                                                @anaconda</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.11.6.el7                                                           @updates</span><br><span class="line">Available Packages</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.el7                                                                base</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.2.3.el7                                                            updates</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.3.2.el7                                                            updates</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.3.3.el7                                                            updates</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.6.3.el7                                                            updates</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.9.1.el7                                                            updates</span><br><span class="line">kernel.x86_64                                                          3.10.0-862.11.6.el7                                                           updates</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果 yum list 中有需要的版本可以直接执行 update 升级，但现在的问题是没有 </span></span><br><span class="line">yum update kernel-3.10.0-862.14.4.el7.x86_64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以通过 Google 搜索所需 kernel 版本，下载后离线安装升级，建议使用 -i 保留原来的内核方便版本回退 </span></span><br><span class="line">ftp://ftp.riken.jp/Linux/cern/centos/7/updates/x86_64/repoview/kernel.html</span><br><span class="line">wget ftp://ftp.riken.jp/Linux/cern/centos/7/updates/x86_64/Packages/kernel-3.10.0-862.14.4.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装完成之后重启会自动修改启动项切换至新内核 </span></span><br><span class="line">rpm -ivh kernel-3.10.0-862.14.4.el7.x86_64.rpm</span><br><span class="line">init 6</span><br></pre></td></tr></table></figure>
<h2 id="在-CentOS-上降级内核"><a href="#在-CentOS-上降级内核" class="headerlink" title="在 CentOS 上降级内核"></a>在 CentOS 上降级内核</h2><blockquote>
<p>和之前 Kernel 升级的原因一样，降级也是因为 CPU 性能优化，建议各位仔细评估线上环境所需的版本</p>
</blockquote>
<p>Linux OS version: CentOS Linux release 7.6.1810 (Core)<br>Linux kernel 降级原因: CPU 性能优化<br>Linux kernel 当前版本: 3.10.0-957.1.3.el7.x86_64<br>Linux kernel 目标版本: 3.10.0-862.6.3.el7.x86_64</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前操作系统版本 </span></span><br><span class="line">cat /etc/redhat-release</span><br><span class="line">CentOS Linux release 7.6.1810 (Core)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看当前内核 </span></span><br><span class="line">uname -r</span><br><span class="line">3.10.0-957.1.3.el7.x86_64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载制定版本内核覆盖安装 </span></span><br><span class="line">wget ftp://ftp.riken.jp/Linux/cern/centos/7/updates/x86_64/Packages/kernel-3.10.0-862.6.3.el7.x86_64.rpm</span><br><span class="line">rpm -ivh kernel-3.10.0-862.6.3.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 禁止 yum 自动升级 kernel（可选）</span></span><br><span class="line">vim /etc/yum.conf </span><br><span class="line">exclude=kernel*</span><br></pre></td></tr></table></figure>
<h2 id="Kernel-Change-Log"><a href="#Kernel-Change-Log" class="headerlink" title="Kernel Change Log"></a>Kernel Change Log</h2><blockquote>
<p>最后给大家分享下官方的 Kernel Change Log，方便各位了解自己目前所用的版本是否合理</p>
</blockquote>
<p>The kernel package contains the Linux kernel (vmlinuz), the core of any Linux operating system. The kernel handles the basic functions of the operating system: memory allocation, process allocation, device input and output, etc.</p>
<p>Architecture: x86_64</p>
<h3 id="Version-3-10-0-957-el7-系列"><a href="#Version-3-10-0-957-el7-系列" class="headerlink" title="Version: 3.10.0-957.el7[系列]"></a>Version: 3.10.0-957.el7[系列]</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">2018-11-15 Jan Stancek &lt;jstancek@redhat.com&gt; [3.10.0-957.1.3.el7]</span><br><span class="line">- [x86] Mark Intel Cascade Lake supported (Steve Best) [1650213 1639980]</span><br><span class="line"></span><br><span class="line">2018-11-01 Jan Stancek &lt;jstancek@redhat.com&gt; [3.10.0-957.1.1.el7]</span><br><span class="line">- [x86] boot: Fix kexec booting failure <span class="keyword">in</span> the SEV bit detection code (Kairui Song) [1644990 1628828] </span><br><span class="line">- [net] 8021q: create device with all possible features <span class="keyword">in</span> wanted_features (Davide Caratti) [1644675 1640645] </span><br><span class="line">- [mm] memcontrol: fix high scheduling latency <span class="built_in">source</span> <span class="keyword">in</span> mem_cgroup_reparent_charges (Andrea Arcangeli) [1644673 1632898] </span><br><span class="line">- [kernel] cpuset: use trialcs-&gt;mems_allowed as a temp variable (Aristeu Rozanski) [1644236 1613248] </span><br><span class="line">- [kernel] cpuset: fix a warning when clearing configured masks <span class="keyword">in</span> old hierarchy (Aristeu Rozanski) [1644236 1613248] </span><br><span class="line">- [kernel] cpuset: initialize effective masks when clone_children is enabled (Aristeu Rozanski) [1644236 1613248] </span><br><span class="line">- [x86] efi: Only load initrd above 4g on second try (Lenny Szubowicz) [1643359 1608955] </span><br><span class="line">- [x86] efi: Support initrd loaded above 4G (Lenny Szubowicz) [1643359 1608955] </span><br><span class="line">- [x86] efi: Generalize handle_ramdisks() and rename to handle_cmdline_files() (Lenny Szubowicz) [1643359 1608955] </span><br><span class="line">- [kernel] <span class="built_in">sched</span>/fair: Fix throttle_list starvation with low CFS quota (Phil Auld) [1640675 1601153] </span><br><span class="line">- [target] scsi: iscsi: Use bin2hex instead of a re-implementation (Maurizio Lombardi) [1634711 1627034] &#123;CVE-2018-14633&#125; </span><br><span class="line">- [target] scsi: iscsi: Use hex2bin instead of a re-implementation (Maurizio Lombardi) [1634711 1627034] &#123;CVE-2018-14633&#125;</span><br><span class="line"></span><br><span class="line">2018-11-01 Jan Stancek &lt;jstancek@redhat.com&gt; [3.10.0-957.1.2.el7]</span><br><span class="line">- [net] rtnetlink: give a user socket to get_target_net() (Jiri Benc) [1639635 1630694] &#123;CVE-2018-14646&#125; </span><br><span class="line">- [net] Add variants of capable <span class="keyword">for</span> use on on sockets (Jiri Benc) [1639635 1630694] &#123;CVE-2018-14646&#125;</span><br><span class="line"></span><br><span class="line">2018-10-04 Bruno E. O. Meneguele &lt;bmeneg@redhat.com&gt; [3.10.0-957.el7]</span><br><span class="line">- [mm] mlock: avoid increase mm-&gt;locked_vm on mlock() when already mlock2(, MLOCK_ONFAULT) (Rafael Aquini) [1633059]</span><br><span class="line"></span><br><span class="line">2018-10-03 Bruno E. O. Meneguele &lt;bmeneg@redhat.com&gt; [3.10.0-955.el7]</span><br><span class="line">- [netdrv] net/mlx5e: IPoIB, Set the netdevice sw mtu <span class="keyword">in</span> ipoib enhanced flow (Alaa Hleihel) [1633652] </span><br><span class="line">- [netdrv] net/mlx5e: Fix traffic between VF and representor (Alaa Hleihel) [1633652] </span><br><span class="line">- [mm] vmscan: <span class="keyword">do</span> not loop on too_many_isolated <span class="keyword">for</span> ever (Waiman Long) [1632050]</span><br><span class="line"></span><br><span class="line">2018-10-03 Bruno E. O. Meneguele &lt;bmeneg@redhat.com&gt; [3.10.0-956.el7]</span><br><span class="line">- [block] blk-mq: fix hctx debugfs entry related race between update hw queues and cpu hotplug (Ming Lei) [1619988] </span><br><span class="line">- [nvme] nvme-pci: unquiesce dead controller queues (Ming Lei) [1632424]</span><br><span class="line"></span><br><span class="line">2018-09-24 Bruno E. O. Meneguele &lt;bmeneg@redhat.com&gt; [3.10.0-954.el7]</span><br><span class="line">- [fs] <span class="built_in">exec</span>: Limit arg stack to at most 75 of _STK_LIM (Yauheni Kaliuta) [1625991] &#123;CVE-2018-14634&#125; </span><br><span class="line">- [fs] <span class="built_in">exec</span>: account <span class="keyword">for</span> argv/envp pointers (Yauheni Kaliuta) [1625991] &#123;CVE-2018-14634&#125; </span><br><span class="line">- [kernel] revert <span class="string">"sched/topology: Introduce NUMA identity node sched domain"</span> (Gustavo Duarte) [1620031] </span><br><span class="line">- [powerpc] revert <span class="string">"powernv: Add a virtual irqchip for opal events"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"powernv: Reorder OPAL subsystem initialisation"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [char] revert <span class="string">"ipmi/powernv: Convert to irq event interface"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [tty] revert <span class="string">"hvc: Convert to using interrupts instead of opal events"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"powernv/eeh: Update the EEH code to use the opal irq domain"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"powernv/opal: Convert opal message events to opal irq domain"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"powernv/elog: Convert elog to opal irq domain"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"powernv/opal-dump: Convert to irq domain"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"opal: Remove events notifier"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"powernv: Increase opal-irqchip initcall priority"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"opal-irqchip: Fix double endian conversion"</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [powerpc] revert <span class="string">"opal-irqchip: Fix deadlock introduced by"</span>Fix double endian conversion<span class="string">""</span> (Gustavo Duarte) [1617966] </span><br><span class="line">- [sound] alsa: hda/realtek - two more lenovo models need fixup of MIC_LOCATION (Jaroslav Kysela) [1611958] </span><br><span class="line">- [sound] alsa: hda/realtek - Fix the problem of two front mics on more machines (Jaroslav Kysela) [1611958] </span><br><span class="line">- [sound] alsa: hda/realtek - Enable mic-mute hotkey <span class="keyword">for</span> several Lenovo AIOs (Jaroslav Kysela) [1611958]</span><br><span class="line"></span><br><span class="line">2018-09-21 Bruno E. O. Meneguele &lt;bmeneg@redhat.com&gt; [3.10.0-953.el7]</span><br><span class="line">- [cdrom] information leak <span class="keyword">in</span> cdrom_ioctl_media_changed() (Sanskriti Sharma) [1578207] &#123;CVE-2018-10940&#125; </span><br><span class="line">- [mm] mlock: remove lru_add_drain_all() (Oleksandr Natalenko) [1624765] </span><br><span class="line">- [block] blk-mq: fix race between updating nr_hw_queues and switching io <span class="built_in">sched</span> (Ming Lei) [1619988] </span><br><span class="line">- [block] blk-mq: avoid to map CPU into stale hw queue (Ming Lei) [1619988] </span><br><span class="line">- [block] blk-mq: fix sysfs inflight counter (Ming Lei) [1548261] </span><br><span class="line">- [block] blk-mq: count allocated but not started requests <span class="keyword">in</span> iostats inflight (Ming Lei) [1548261] </span><br><span class="line">- [block] fix a crash caused by wrong API (Ming Lei) [1548261] </span><br><span class="line">- [block] blk-mq: <span class="built_in">enable</span> checking two part inflight counts at the same time (Ming Lei) [1548261] </span><br><span class="line">- [block] blk-mq: provide internal <span class="keyword">in</span>-flight variant (Ming Lei) [1548261] </span><br><span class="line">- [block] make part_in_flight() take an array of two ints (Ming Lei) [1548261] </span><br><span class="line">- [block] pass <span class="keyword">in</span> queue to inflight accounting (Ming Lei) [1548261] </span><br><span class="line">- [x86] Mark Intel Cascade Lake supported (Steve Best) [1584343]</span><br><span class="line"></span><br><span class="line">2018-09-18 Bruno E. O. Meneguele &lt;bmeneg@redhat.com&gt; [3.10.0-952.el7]</span><br><span class="line">- [netdrv] mlx5e: IPoIB, Use priv stats <span class="keyword">in</span> completion rx flow (Alaa Hleihel) [1618609] </span><br><span class="line">- [netdrv] mlx5e: IPoIB, Add ndo stats support <span class="keyword">for</span> IPoIB child devices (Alaa Hleihel) [1618609] </span><br><span class="line">- [netdrv] mlx5e: IPoIB, Add ndo stats support <span class="keyword">for</span> IPoIB netdevices (Alaa Hleihel) [1618609] </span><br><span class="line">- [netdrv] mlx5e: IPoIB, Initialize max_opened_tc <span class="keyword">in</span> mlx5i_init flow (Alaa Hleihel) [1618609] </span><br><span class="line">- [netdrv] mlx5e: Present SW stats when state is not opened (Alaa Hleihel) [1618609] </span><br><span class="line">- [netdrv] mlx5e: Avoid reset netdev stats on configuration changes (Alaa Hleihel) [1618609] </span><br><span class="line">- [netdrv] mlx5e: Use bool as <span class="built_in">return</span> <span class="built_in">type</span> <span class="keyword">for</span> mlx5e_xdp_handle (Alaa Hleihel) [1618609] </span><br><span class="line">- [netdrv] net: aquantia: memory corruption on jumbo frames (Igor Russkikh) [1628238] </span><br><span class="line">- [kernel] revert <span class="string">"platform/uv: Add adjustable set memory block size function"</span> (Baoquan He) [1625143] </span><br><span class="line">- [x86] revert <span class="string">"mm: probe memory block size for generic x86 64bit"</span> (Baoquan He) [1625143] </span><br><span class="line">- [x86] revert <span class="string">"mm: Use 2GB memory block size on large-memory x86-64 systems"</span> (Baoquan He) [1625143] </span><br><span class="line">- [x86] revert <span class="string">"mm: Streamline and restore probe_memory_block_size()"</span> (Baoquan He) [1625143] </span><br><span class="line">- [x86] revert <span class="string">"mm/memory_hotplug: determine block size based on the end of boot memory"</span> (Baoquan He) [1625143] </span><br><span class="line">- [mm] revert <span class="string">"memory_hotplug: do not fail offlining too early"</span> (Baoquan He) [1625143] </span><br><span class="line">- [mm] revert <span class="string">"memory_hotplug: remove timeout from __offline_memory"</span> (Baoquan He) [1625143] </span><br><span class="line">- [kernel] revert <span class="string">"x86/platform/uv: Add adjustable set memory block size function"</span> (Baoquan He) [1625143]</span><br><span class="line"></span><br><span class="line">2018-09-17 Bruno E. O. Meneguele &lt;bmeneg@redhat.com&gt; [3.10.0-951.el7]</span><br><span class="line">- [fs] fanotify: fix logic of events on child (Miklos Szeredi) [1597738] </span><br><span class="line">- [fs] cifs: add a check <span class="keyword">for</span> session expiry (Leif Sahlberg) [1626358] </span><br><span class="line">- [fs] xfs: completely <span class="built_in">disable</span> per-inode DAX behavior (Eric Sandeen) [1623150] </span><br><span class="line">- [fs] fs: get_rock_ridge_filename(): handle malformed NM entries (Bill O<span class="string">'Donnell) [1340778] &#123;CVE-2016-4913&#125; </span></span><br><span class="line"><span class="string">- [md] fix '</span>allow faster resync only on non-rotational media<span class="string">' underneath dm (Nigel Croxon) [1561162] </span></span><br><span class="line"><span class="string">- [md] Revert "allow faster resync only on non-rotational media" (Nigel Croxon) [1561162] </span></span><br><span class="line"><span class="string">- [mm] madvise: fix madvise() infinite loop under special circumstances (Rafael Aquini) [1552982] &#123;CVE-2017-18208&#125; </span></span><br><span class="line"><span class="string">- [infiniband] srpt: Support HCAs with more than two ports (Don Dutile) [1616192] </span></span><br><span class="line"><span class="string">- [infiniband] overflow.h: Add allocation size calculation helpers (Don Dutile) [1616192] </span></span><br><span class="line"><span class="string">- [net] ip_tunnel: clean the GSO bits properly (Flavio Leitner) [1607907] </span></span><br><span class="line"><span class="string">- [kernel] revert cpuset: fix a warning when clearing configured masks in old hierarchy (Aristeu Rozanski) [1626943] </span></span><br><span class="line"><span class="string">- [s390] sclp: Change SCLP console default buffer-full behavior (Hendrik Brueckner) [1625350] </span></span><br><span class="line"><span class="string">- [x86] kvm: Take out __exit annotation in vmx_exit() (Waiman Long) [1626560] </span></span><br><span class="line"><span class="string">- [x86] mark coffeelake-s 8+2 as supported (David Arcari) [1575457] </span></span><br><span class="line"><span class="string">- [x86] kvm: vmx: fixes for vmentry_l1d_flush module parameter (Marcelo Tosatti) [1619602] </span></span><br><span class="line"><span class="string">- [x86] speculation: Use ARCH_CAPABILITIES to skip L1D flush on vmentry (Marcelo Tosatti) [1619602]</span></span><br></pre></td></tr></table></figure>
<h3 id="Version-3-10-0-862-el7-系列"><a href="#Version-3-10-0-862-el7-系列" class="headerlink" title="Version: 3.10.0-862.el7[系列]"></a>Version: 3.10.0-862.el7[系列]</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br></pre></td><td class="code"><pre><span class="line">2018-09-21 Rado Vrbovsky &lt;rvrbovsk@redhat.com&gt; [3.10.0-862.14.4.el7]</span><br><span class="line">- [scsi] Revert: lpfc: Fix port initialization failure (Radomir Vrbovsky) [1605235 1584377] </span><br><span class="line">- [scsi] Revert: qla2xxx: Fix NULL pointer access <span class="keyword">for</span> fcport structure (Radomir Vrbovsky) [1597546 1547714]</span><br><span class="line"></span><br><span class="line">2018-09-13 Rado Vrbovsky &lt;rvrbovsk@redhat.com&gt; [3.10.0-862.14.3.el7]</span><br><span class="line">- [fs] <span class="built_in">exec</span>: Limit arg stack to at most 75 of _STK_LIM (Yauheni Kaliuta) [1625980 1625991] &#123;CVE-2018-14634&#125; </span><br><span class="line">- [fs] <span class="built_in">exec</span>: account <span class="keyword">for</span> argv/envp pointers (Yauheni Kaliuta) [1625980 1625991] &#123;CVE-2018-14634&#125;</span><br><span class="line"></span><br><span class="line">2018-09-10 Jan Stancek &lt;jstancek@redhat.com&gt; [3.10.0-862.14.2.el7]</span><br><span class="line">- [uio] fix possible circular locking dependency (Xiubo Li) [1608677 1560418] </span><br><span class="line">- [scsi] tcmu: Don<span class="string">'t pass KERN_ERR to pr_err (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [scsi] tcmu: add module wide block/reset_netlink support (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [scsi] tcmu: simplify nl interface (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [scsi] tcmu: track nl commands (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [scsi] tcmu: delete unused __wait (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] fix crash after the device is unregistered (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] change to use the mutex lock instead of the spin lock (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] Prevent device destruction while fds are open (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] Reduce return paths from uio_write() (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] fix incorrect memory leak cleanup (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] add missing error codes (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] fix false positive __might_sleep warning splat (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] Destroy uio_idr on module exit (Xiubo Li) [1608677 1560418] </span></span><br><span class="line"><span class="string">- [uio] don'</span>t free irq that was not requested (Xiubo Li) [1608677 1560418] </span><br><span class="line">- [uio] support memory sizes larger than 32 bits (Xiubo Li) [1608677 1560418] </span><br><span class="line">- [uio] we cannot mmap unaligned page contents (Xiubo Li) [1608677 1560418] </span><br><span class="line">- [uio] Pass pointers to virt_to_page(), not integers (Xiubo Li) [1608677 1560418] </span><br><span class="line">- [uio] fix memory leak (Xiubo Li) [1608677 1560418] </span><br><span class="line">- [uio] Request/free irq separate from dev lifecycle (Xiubo Li) [1608677 1560418] </span><br><span class="line">- [uio] Simplify uio error path by using devres <span class="built_in">functions</span> (Xiubo Li) [1608677 1560418]</span><br><span class="line"></span><br><span class="line">2018-08-22 Rado Vrbovsky &lt;rvrbovsk@redhat.com&gt; [3.10.0-862.14.1.el7]</span><br><span class="line">- [x86] microcode: Allow late microcode loading with SMT disabled (Josh Poimboeuf) [1619622 1614515] </span><br><span class="line">- [infiniband] core: Fix nospec regression (Josh Poimboeuf) [1619624 1616346] </span><br><span class="line">- [x86] microcode/amd: Do not load when running on a hypervisor (Vitaly Kuznetsov) [1618390 1607899]</span><br><span class="line"></span><br><span class="line">2018-08-18 Rado Vrbovsky &lt;rvrbovsk@redhat.com&gt; [3.10.0-862.13.1.el7]</span><br><span class="line">- [infiniband] ib/ipoib: Fix race condition <span class="keyword">in</span> neigh creation (Don Dutile) [1616164 1520300] </span><br><span class="line">- [gpu] qxl: hook monitors_config updates into crtc, not encoder (Gerd Hoffmann) [1614349 1544322] </span><br><span class="line">- [gpu] qxl: move qxl_send_monitors_config() (Gerd Hoffmann) [1614349 1544322] </span><br><span class="line">- [gpu] qxl: remove qxl_io_log() (Gerd Hoffmann) [1614349 1544322] </span><br><span class="line">- [kernel] locking: Introduce smp_mb__after_spinlock() (Steve Best) [1613814 1496574] </span><br><span class="line">- [scsi] ibmvfc: Avoid unnecessary port relogin (Steve Best) [1613202 1605080] </span><br><span class="line">- [powerpc] stf-barrier: update (rfi_)enabled_flush_types as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: update debugfs as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: update handle_ssbd() as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: update stf_barrier_enable() as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: add cpu_show_spec_store_bypass() as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: add comment as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: move code from setup_64.c to security.c as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: move code from setup.h to security_features.h as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: update fallback routine as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [powerpc] stf-barrier: update entry barrier slot as <span class="keyword">in</span> upstream (Gustavo Duarte) [1612353 1585297] </span><br><span class="line">- [nvmet-fc] move tech preview warning to nvmet_fc_register_targetport call (Ewan Milne) [1610381 1608947] </span><br><span class="line">- [nvme-fc] move tech preview warning to nvme_fc_register_localport call (Ewan Milne) [1610381 1608947] </span><br><span class="line">- [block] blk-throttle: check stats_cpu before reading it from sysfs (Ming Lei) [1608228 1567748] </span><br><span class="line">- [powerpc] signals: Discard transaction state from signal frames (Steve Best) [1608227 1586153] </span><br><span class="line">- [ipc] shm.c: add split <span class="keyword">function</span> to shm_vm_ops (Desnes Augusto Nunes <span class="keyword">do</span> Rosario) [1608225 1586152] </span><br><span class="line">- [scsi] lpfc: Fix port initialization failure (Dick Kennedy) [1605235 1584377] </span><br><span class="line">- [vmbus] fix the missed signaling <span class="keyword">in</span> hv_signal_on_read() (Vitaly Kuznetsov) [1605089 1591976] </span><br><span class="line">- [infiniband] ib/ipoib: Fix <span class="keyword">for</span> potential no-carrier state (Donald Dutile) [1601935 1548474] </span><br><span class="line">- [vmwgfx] refuse to hibernate <span class="keyword">if</span> we have any resources. (v2) (Dave Airlie) [1601516 1595136] </span><br><span class="line">- [netdrv] sfc: stop the TX queue before pushing new buffers (Xin Long) [1601353 1445576] </span><br><span class="line">- [lib] rhashtable: Fix rhlist duplicates insertion (Xin Long) [1601009 1559106] </span><br><span class="line">- [kernel] hrtimer: Allow concurrent hrtimer_start() <span class="keyword">for</span> self restarting timers (Oleksandr Natalenko) [1600911 1574387] </span><br><span class="line">- [iommu] amd: Add NULL sanity check <span class="keyword">for</span> struct irq_2_irte.ir_data (Suravee Suthikulpanit) [1600661 1542697] </span><br><span class="line">- [hid] wacom: Correct logical maximum Y <span class="keyword">for</span> 2nd-gen Intuos Pro large (Benjamin Tissoires) [1600660 1591499] </span><br><span class="line">- [md] avoid NULL dereference to queue pointer (Ming Lei) [1600056 1581845] </span><br><span class="line">- [scsi] qla2xxx: Fix NULL pointer access <span class="keyword">for</span> fcport structure (Himanshu Madhani) [1597546 1547714] </span><br><span class="line">- [scsi] csiostor: Add a soft dep on cxgb4 driver (Arjun Vynipadath) [1597529 1584003] </span><br><span class="line">- [mm] initialize pages on demand during boot (Masayoshi Mizuma) [1588366 1496330] </span><br><span class="line">- [mm] split deferred_init_range into initializing and freeing parts (Masayoshi Mizuma) [1588366 1496330] </span><br><span class="line">- [kernel] cpu/hotplug: Fix <span class="string">'online'</span> sysfs entry with <span class="string">'nosmt'</span> (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span><br><span class="line">- [kernel] cpu/hotplug: Enable <span class="string">'nosmt'</span> as late as possible (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span><br><span class="line">- [net] ipv6: fix nospec-related regression <span class="keyword">in</span> ipv6_addr_prefix() (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3693&#125; </span><br><span class="line">- [net] tcp: add tcp_ooo_try_coalesce() helper (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] tcp: call tcp_drop() from tcp_data_queue_ofo() (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] tcp: detect malicious patterns <span class="keyword">in</span> tcp_collapse_ofo_queue() (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] tcp: avoid collapses <span class="keyword">in</span> tcp_prune_queue() <span class="keyword">if</span> possible (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] tcp: free batches of packets <span class="keyword">in</span> tcp_prune_ofo_queue() (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] add rb_to_skb() and other rb tree helpers (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] tcp: fix a stale ooo_last_skb after a replace (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] tcp: use an RB tree <span class="keyword">for</span> ooo receive queue (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] tcp: refine tcp_prune_ofo_queue() to not drop all packets (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [net] tcp: increment sk_drops <span class="keyword">for</span> dropped rx packets (Paolo Abeni) [1611368 1611369] &#123;CVE-2018-5390&#125; </span><br><span class="line">- [x86] x86/syscall: Fix regression when using the last syscall (pkey_free) (Lauro Ramos Venancio) [1589033 1589035] &#123;CVE-2018-3693&#125; </span><br><span class="line">- [kernel] cpu: hotplug: detect SMT disabled by BIOS (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span><br><span class="line">- [documentation] l1tf: Fix typos (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span><br><span class="line">- [x86] kvm: Remove extra newline <span class="keyword">in</span> vmentry_l1d_flush sysfs file (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span><br><span class="line">- [x86] kvm: vmx: Initialize the vmx_l1d_flush_pages<span class="string">'content (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation: l1tf: Unbreak !__HAVE_ARCH_PFN_MODIFY_ALLOWED architectures (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [documentation] Add section about CPU vulnerabilities (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs, kvm: introduce boot-time control of L1TF mitigations (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [kernel] cpu: hotplug: Set CPU_SMT_NOT_SUPPORTED early (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [kernel] cpu: hotplug: Expose SMT control init function (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: Allow runtime control of L1D flush (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: Serialize L1D flush parameter setter (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: Add static key for flush always (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: Move l1tf setup function (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: Handle EPT disabled state proper (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: Drop L1TF MSR list approach (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] litf: Introduce vmx status variable (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs: Make cpu_show_common() static (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs: Concentrate bug reporting into a separate function (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [kernel] cpu: hotplug: Online siblings when SMT control is turned on (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: vmx: Use MSR save list for IA32_FLUSH_CMD if required (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: vmx: Extend add_atomic_switch_msr() to allow VMENTER only MSRs (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: vmx: Separate the VMX AUTOLOAD guest/host number accounting (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: vmx: Add find_msr() helper function (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: vmx: Split the VMX MSR LOAD structures to have an host/guest numbers (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: mitigation for L1 cache terminal fault vulnerabilities, part 3 (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: Warn user if KVM is loaded SMT and L1TF CPU bug being present (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [kernel] cpu: hotplug: Boot HT siblings at least once, part 2 (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation/l1tf: fix typo in l1tf mitigation string (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: protect _PAGE_FILE PTEs against speculation (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: mitigation for L1 cache terminal fault vulnerabilities, part 2 (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [kernel] cpu/hotplug: Boot HT siblings at least once (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- Revert"x86/apic: Ignore secondary threads if nosmt=force"(Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation/l1tf: Fix up pte-&gt;pfn conversion for PAE (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation/l1tf: Protect PAE swap entries against L1TF (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] CPU/AMD: Move TOPOEXT reenablement before reading smp_num_siblings (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation/l1tf: Extend 64bit swap file size limit (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] cpu/AMD: Remove the pointless detect_ht() call (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs: Move the l1tf function and define pr_fmt properly (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [kernel] cpu/hotplug: Provide knobs to control SMT, part 2 (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] topology: Provide topology_smt_supported() (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] smp: Provide topology_is_primary_thread(), part 2 (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] apic: Ignore secondary threads if nosmt=force (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] cpu/AMD: Evaluate smp_num_siblings early (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] CPU/AMD: Do not check CPUID max ext level before parsing SMP info (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] cpu/intel: Evaluate smp_num_siblings early (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] cpu/topology: Provide detect_extended_topology_early() (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] cpu/common: Provide detect_ht_early() (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] cpu: Remove the pointless CPU printout (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [kernel] cpu/hotplug: Provide knobs to control SMT (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [kernel] cpu/hotplug: Split do_cpu_down() (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] smp: Provide topology_is_primary_thread() (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] CPU: Modify detect_extended_topology() to return result (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: fix build for CONFIG_NUMA_BALANCING=n (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: sync with latest L1TF patches (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: protect _PAGE_NUMA PTEs and PMDs against speculation (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [mm] l1tf: Disallow non privileged high MMIO PROT_NONE mappings (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: Report if too much memory for L1TF workaround (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: Limit swap file size to MAX_PA/2 (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: Add sysfs reporting for l1tf (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: Make sure the first page is always reserved (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: Protect PROT_NONE PTEs against speculation (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: Protect swap entries against L1TF (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] l1tf: Increase 32bit PAE __PHYSICAL_PAGE_MASK (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] mm: Fix swap entry comment and macro (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: sync with upstream cpu_set_bug_bits() (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] add support for L1D flush MSR (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: mitigation for L1 cache terminal fault vulnerabilities (Josh Poimboeuf) [1593383 1593384] &#123;CVE-2018-3620&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2018-08-01 Jan Stancek &lt;jstancek@redhat.com&gt; [3.10.0-862.12.1.el7]</span></span><br><span class="line"><span class="string">- [fs] CIFS: Fix NULL pointer deref on SMB2_tcon() failure (Leif Sahlberg) [1609159 1591092] </span></span><br><span class="line"><span class="string">- [net] multicast: do not restore deleted record source filter mode to new one (Hangbin Liu) [1610380 1586321] </span></span><br><span class="line"><span class="string">- [net] multicast: remove useless parameter for group add (Hangbin Liu) [1610380 1586321] </span></span><br><span class="line"><span class="string">- [net] ipv6/mcast: init as INCLUDE when join SSM INCLUDE group (Hangbin Liu) [1610380 1586321] </span></span><br><span class="line"><span class="string">- [net] ipv4/igmp: init group mode as INCLUDE when join source group (Hangbin Liu) [1610380 1586321] </span></span><br><span class="line"><span class="string">- [net] ipv6: mcast: fix unsolicited report interval after receiving querys (Hangbin Liu) [1610380 1586321] </span></span><br><span class="line"><span class="string">- [net] ipv6: refactor ipv6_dev_mc_inc() (Hangbin Liu) [1610380 1586321]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2018-07-20 Rado Vrbovsky &lt;rvrbovsk@redhat.com&gt; [3.10.0-862.11.1.el7]</span></span><br><span class="line"><span class="string">- [tcmu] allow userspace to reset ring (Xiubo Li) [1599669 1562587] </span></span><br><span class="line"><span class="string">- [tcmu] remove commands_lock (Xiubo Li) [1599669 1562587] </span></span><br><span class="line"><span class="string">- [tcmu] move expired command completion to unmap thread (Xiubo Li) [1599669 1562587] </span></span><br><span class="line"><span class="string">- [tcmu] add cmd timeout handling wq (Xiubo Li) [1599669 1562587] </span></span><br><span class="line"><span class="string">- [tcmu] don'</span>t block submitting context <span class="keyword">for</span> block waits (Xiubo Li) [1599669 1562587] </span><br><span class="line">- [tcmu] fix double se_cmd completion (Xiubo Li) [1599669 1562587] </span><br><span class="line">- [tcmu] replace spin lock with mutex (Xiubo Li) [1599669 1562587] </span><br><span class="line">- [target] add SAM_STAT_BUSY sense reason (Xiubo Li) [1599669 1562587] </span><br><span class="line">- [target] core: add device action configfs files (Xiubo Li) [1599669 1562587] </span><br><span class="line">- [target] Avoid mappedlun symlink creation during lun shutdown (Xiubo Li) [1599656 1585081] </span><br><span class="line">- [spectre] update Spectre v1 mitigation string (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [spectre] fix hiddev nospec issues (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] syscall: clarify clobbered registers <span class="keyword">in</span> entry code (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [powerpc] add missing barrier_nospec() <span class="keyword">in</span> __get_user64_nocheck() (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [spectre] fix gadgets found by smatch scanner (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [alsa] rme9652: Hardening <span class="keyword">for</span> potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [alsa] hdspm: Hardening <span class="keyword">for</span> potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [alsa] asihpi: Hardening <span class="keyword">for</span> potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [alsa] opl3: Hardening <span class="keyword">for</span> potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [alsa] hda: Hardening <span class="keyword">for</span> potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [alsa] seq: oss: Hardening <span class="keyword">for</span> potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [alsa] seq: oss: Fix unbalanced use lock <span class="keyword">for</span> synth MIDI device (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [net] atm: Fix potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [kernel] time: Protect posix clock array access against speculation (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [kernel] sys.c: fix potential Spectre v1 issue (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [<span class="built_in">sched</span>] autogroup: Fix possible Spectre-v1 indexing <span class="keyword">for</span> sched_prio_to_weight[] (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [perf] core: Fix possible Spectre-v1 indexing <span class="keyword">for</span> -&gt;aux_pages[] (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [sysvipc] sem: mitigate semnum index against spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [alsa] control: Hardening <span class="keyword">for</span> potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [usbip] vhci_sysfs: fix potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [media] dvb_ca_en50221: prevent using slot_info <span class="keyword">for</span> Spectre attacs (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [media] dvb_ca_en50221: sanity check slot number from userspace (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [atm] zatm: Fix potential Spectre v1 (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] kvm: Update spectre-v1 mitigation (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] kvm: Add memory barrier on vmcs field lookup (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] perf/msr: Fix possible Spectre-v1 indexing <span class="keyword">in</span> the MSR driver (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] perf: Fix possible Spectre-v1 indexing <span class="keyword">for</span> x86_pmu::event_map() (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] perf: Fix possible Spectre-v1 indexing <span class="keyword">for</span> hw_perf_event cache_* (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [net] nl80211: Sanitize array index <span class="keyword">in</span> parse_txq_params (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [include] vfs, fdtable: Prevent bounds-check bypass via speculative execution (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] syscall: Sanitize syscall table de-references under speculation (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [powerpc] Use barrier_nospec <span class="keyword">in</span> copy_from_user() (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [include] nospec: Introduce barrier_nospec <span class="keyword">for</span> other arches (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] Introduce barrier_nospec (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] spectre_v1: Disable compiler optimizations over array_index_mask_nospec() (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] Implement array_index_mask_nospec (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [documentation] Document array_index_nospec (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [include] nospec: Include dependency (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [include] nospec: Allow index argument to have const-qualified <span class="built_in">type</span> (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [include] nospec: Kill array_index_nospec_mask_check() (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [include] nospec: Move array_index_nospec() parameter checking into separate macro (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [include] array_index_nospec: Sanitize speculative array de-references (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] get_user: Use pointer masking to <span class="built_in">limit</span> speculation (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] uaccess: Use __uaccess_begin_nospec() and uaccess_try_nospec (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] Introduce __uaccess_begin_nospec() and uaccess_try_nospec (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] usercopy: Replace open coded stac/clac with __uaccess_&#123;begin, end&#125; (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] reorganize SMAP handling <span class="keyword">in</span> user space accesses (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] uaccess: Tell the compiler that uaccess is unlikely to fault (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125; </span><br><span class="line">- [x86] uaccess: fix sparse errors (Josh Poimboeuf) [1589033 1589035] &#123;CVE-2018-3690&#125;</span><br><span class="line"></span><br><span class="line">2018-07-04 Rado Vrbovsky &lt;rvrbovsk@redhat.com&gt; [3.10.0-862.10.1.el7]</span><br><span class="line">- [x86] add _TIF_UPROBE to _TIF_DO_NOTIFY_MASK (Oleg Nesterov) [1595155 1579521] </span><br><span class="line">- [x86] spec_ctrl: Always clear SPEC_CTRL MSRs when disabling IBRS (Radomir Vrbovsky) [1586150 1574730] </span><br><span class="line">- [sound] alsa: hda/realtek - Add headset mode support <span class="keyword">for</span> Dell laptop (Jaroslav Kysela) [1588946 1528587] </span><br><span class="line">- [sound] alsa: hda/realtek - Support headset mode <span class="keyword">for</span> ALC215/ALC285/ALC289 (Jaroslav Kysela) [1593586 1535427] </span><br><span class="line">- [mm] compaction: release zone irqlock <span class="keyword">in</span> isolate_freepages_block (Andrea Arcangeli) [1596283 1582793] </span><br><span class="line">- [mm] compaction: change the timing to check to drop the spinlock (Andrea Arcangeli) [1596283 1582793] </span><br><span class="line">- [fs] dcache.c: add cond_resched() <span class="keyword">in</span> shrink_dentry_list() (Aaron Tomlin) [1596184 1584693] </span><br><span class="line">- [misc] vmware balloon: Treat init like reset (Cathy Avery) [1595601 1540110] </span><br><span class="line">- [netdrv] qede: Fix ref-cnt usage count (Chad Dupuis) [1594700 1574847] </span><br><span class="line">- [x86] kvm: fix LAPIC timer drift when guest uses periodic mode (<span class="string">"Dr. David Alan Gilbert"</span>) [1594292 1584775] </span><br><span class="line">- [x86] kvm: remove APIC Timer periodic/oneshot spikes (<span class="string">"Dr. David Alan Gilbert"</span>) [1594292 1584775] </span><br><span class="line">- [netdrv] mlx4_en: Increase number of default RX rings (Erez Alfasi) [1594127 1520295] </span><br><span class="line">- [netdrv] mlx4_en: Limit the number of RX rings (Erez Alfasi) [1594127 1520295] </span><br><span class="line">- [netdrv] mlx4_en: Limit the number of TX rings (Erez Alfasi) [1594127 1520295] </span><br><span class="line">- [fs] ceph: don<span class="string">'t set read_ahead_kb to 0 by default (Ilya Dryomov) [1590825 1579539] </span></span><br><span class="line"><span class="string">- [scsi] qla2xxx: Remove stale debug value for login_retry flag (Himanshu Madhani) [1588937 1578880] </span></span><br><span class="line"><span class="string">- [x86] topology: Update the'</span>cpu cores<span class="string">'field in /proc/cpuinfo correctly across CPU hotplug operations (Prarit Bhargava) [1588563 1582023] </span></span><br><span class="line"><span class="string">- [acpi] osi: Add OEM _OSI strings to disable NVidia RTD3 (Jaroslav Kysela) [1584685 1581391] </span></span><br><span class="line"><span class="string">- [hv] vmbus: Fix a rescind issue (Eduardo Otubo) [1582124 1518498] </span></span><br><span class="line"><span class="string">- [linux] libata: enable host-wide tags (Ewan Milne) [1581728 1491014] </span></span><br><span class="line"><span class="string">- [ata] libata: remove ATA_FLAG_LOWTAG (Ewan Milne) [1581728 1491014] </span></span><br><span class="line"><span class="string">- [ata] Add a new flag to destinguish sas controller (Ewan Milne) [1581728 1491014] </span></span><br><span class="line"><span class="string">- [ata] libata: make sata_sil24 use fifo tag allocator (Ewan Milne) [1581728 1491014] </span></span><br><span class="line"><span class="string">- [ata] libata: move sas ata tag allocation to libata-scsi.c (Ewan Milne) [1581728 1491014] </span></span><br><span class="line"><span class="string">- [ata] libata: use blk taging (Ewan Milne) [1581728 1491014] </span></span><br><span class="line"><span class="string">- [nvme] rdma: Use mr pool (David Milburn) [1581347 1547273] </span></span><br><span class="line"><span class="string">- [nvme] rdma: Check remotely invalidated rkey matches our expected rkey (David Milburn) [1581347 1547273] </span></span><br><span class="line"><span class="string">- [nvme] rdma: wait for local invalidation before completing a request (David Milburn) [1581347 1547273] </span></span><br><span class="line"><span class="string">- [nvme] rdma: don'</span>t complete requests before a send work request has completed (David Milburn) [1581347 1547273] </span><br><span class="line">- [nvme] rdma: don<span class="string">'t suppress send completions (David Milburn) [1581347 1547273] </span></span><br><span class="line"><span class="string">- [x86] kvm: Fix loss of pending INIT due to race (Radim Krcmar) [1580467 1569473] </span></span><br><span class="line"><span class="string">- [mm] mempolicy: fix use after free when calling get_mempolicy (Augusto Caringi) [1576759 1576755] &#123;CVE-2018-10675&#125; </span></span><br><span class="line"><span class="string">- [sound] alsa: seq: Fix racy pool initializations (Jaroslav Kysela) [1550171 1593586 1550169 1535427] &#123;CVE-2018-7566&#125; </span></span><br><span class="line"><span class="string">- [crypto] algif_skcipher: Load TX SG list after waiting (Bruno Eduardo de Oliveira Meneguele) [1541870 1541875] &#123;CVE-2017-13215&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2018-06-27 Frantisek Hrbata &lt;fhrbata@hrbata.com&gt; [3.10.0-862.9.1.el7]</span></span><br><span class="line"><span class="string">- [iscsi-target] Fix iscsi_np reset hung task during parallel delete (Maurizio Lombardi) [1583593 1579217]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2018-06-15 Rado Vrbovsky &lt;rvrbovsk@redhat.com&gt; [3.10.0-862.8.1.el7]</span></span><br><span class="line"><span class="string">- [x86] always enable eager FPU by default on non-AMD processors (Paolo Bonzini) [1589051 1589048] &#123;CVE-2018-3665&#125; </span></span><br><span class="line"><span class="string">- [net] nf_reset: also clear nfctinfo bits (Florian Westphal) [1588458 1572983] </span></span><br><span class="line"><span class="string">- [x86] bugs: Switch the selection of mitigation from CPU vendor to CPU features (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs: Add AMD'</span>s SPEC_CTRL MSR usage (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span><br><span class="line">- [x86] bugs: Add AMD<span class="string">'s variant of SSB_NO (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Fix VM guest SSBD problems (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Eliminate TIF_SSBD checks in IBRS on/off functions (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Disable SSBD update from scheduler if not user settable (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Make ssbd_enabled writtable (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Remove thread_info check in __wrmsr_on_cpu() (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Write per-thread SSBD state to spec_ctrl_pcp (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Add a read-only ssbd_enabled debugfs file (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs/intel: Set proper CPU features and setup RDS (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: vmx: Emulate MSR_IA32_ARCH_CAPABILITIES (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] kvm: svm: Implement VIRT_SPEC_CTRL support for SSBD (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation, KVM: Implement support for VIRT_SPEC_CTRL/LS_CFG (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs: Rework spec_ctrl base and mask logic (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Rework SPEC_CTRL update after late microcode loading (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Make sync_all_cpus_ibrs() write spec_ctrl_pcp value (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs: Unify x86_spec_ctrl_&#123;set_guest, restore_host&#125; (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation: Rework speculative_store_bypass_update() (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation: Add virtualized speculative store bypass disable support (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] bugs, KVM: Extend speculation control for VIRT_SPEC_CTRL (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] KVM: Rename KVM SPEC_CTRL MSR functions to match upstream (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation: Handle HT correctly on AMD (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] cpufeatures: Add FEATURE_ZEN (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] cpufeatures: Disentangle SSBD enumeration (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] cpufeatures: Disentangle MSR_SPEC_CTRL enumeration from IBRS (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation: Use synthetic bits for IBRS/IBPB/STIBP (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [documentation] spec_ctrl: Do some minor cleanups (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] speculation: Make"seccomp"the default mode for Speculative Store Bypass (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] seccomp: Move speculation migitation control to arch code (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [kernel] seccomp: Add filter flag to opt-out of SSB mitigation (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [kernel] seccomp: Use PR_SPEC_FORCE_DISABLE (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] prctl: Add force disable speculation (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spectre_v2: No mitigation if CPU not affected and no command override (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] pti: Do not enable PTI on CPUs which are not vulnerable to Meltdown (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] bug: Add X86_BUG_CPU_MELTDOWN and X86_BUG_SPECTRE_V[12] (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] pti: Rename CONFIG_KAISER to CONFIG_PAGE_TABLE_ISOLATION (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Sync up naming of SPEC_CTRL MSR bits with upstream (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125; </span></span><br><span class="line"><span class="string">- [x86] spec_ctrl: Sync up SSBD changes with upstream (Waiman Long) [1584323 1584569] &#123;CVE-2018-3639&#125;</span></span><br></pre></td></tr></table></figure>  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/学习-Study/">学习 | Study</a>
</div>


</div>



	<div class="article-share" id="share">
	
	  <div data-url="https://wsgzao.github.io/post/linux-kernel-update/" data-title="Linux kernel 内核升级和降级的方法实践 | HelloDog" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/post/ssh/" title="SSH 使用密钥登录并禁止口令登录实践">
  <strong>上一篇：</strong><br/>
  <span>
  SSH 使用密钥登录并禁止口令登录实践</span>
</a>
</div>


<div class="next">
<a href="/post/grafana/"  title="Grafana 安装部署">
 <strong>下一篇：</strong><br/> 
 <span>Grafana 安装部署
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#更新历史"><span class="toc-number">2.</span> <span class="toc-text">更新历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-内核简介"><span class="toc-number">3.</span> <span class="toc-text">Linux 内核简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-内核版本"><span class="toc-number">3.1.</span> <span class="toc-text">Linux 内核版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-升级新内核的目的"><span class="toc-number">3.2.</span> <span class="toc-text">安装 / 升级新内核的目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-升级的方法和建议"><span class="toc-number">3.3.</span> <span class="toc-text">安装 / 升级的方法和建议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内核软件包介绍"><span class="toc-number">3.4.</span> <span class="toc-text">内核软件包介绍</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在-CentOS-上安装-升级内核"><span class="toc-number">4.</span> <span class="toc-text">在 CentOS 上安装 / 升级内核</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在-CentOS-上降级内核"><span class="toc-number">5.</span> <span class="toc-text">在 CentOS 上降级内核</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kernel-Change-Log"><span class="toc-number">6.</span> <span class="toc-text">Kernel Change Log</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Version-3-10-0-957-el7-系列"><span class="toc-number">6.1.</span> <span class="toc-text">Version: 3.10.0-957.el7[系列]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Version-3-10-0-862-el7-系列"><span class="toc-number">6.2.</span> <span class="toc-text">Version: 3.10.0-862.el7[系列]</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="wsgzao" data-theme="medium"></div>
<script type="text/javascript" src="//lab.lepture.com/github-cards/widget.js" ></script>
</div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Hexo/" title="Hexo">Hexo<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/学习-Study/" title="学习 | Study">学习 | Study<sup>180</sup></a></li>
		  
		
		  
			<li><a href="/categories/生活-Life/" title="生活 | Life">生活 | Life<sup>16</sup></a></li>
		  
		
		  
			<li><a href="/categories/软件-Soft/" title="软件 | Soft">软件 | Soft<sup>5</sup></a></li>
		  
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.linkedin.com/in/aowang" target="_blank" title="LinkedIn">LinkedIn</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello, I&#39;m OX. This is my blog on GitHub. <br/>
			Keep Calm and Carry On.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/wsgzao" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		<a href="https://www.linkedin.com/in/aowang" target="_blank" class="icon-linkedin" title="linkedin"></a>
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2020 
		
		<a href="/about" target="_blank" title="wsgzao">wsgzao</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'wsgzao';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>








<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-77732745-1', 'wsgzao.github.io');  
ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?c2c5fc7d844d0973d9f77abd87f49c3c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- swiftype Begin -->

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','_4qDmKrBPn9Es3UvQHT4','2.0.0');
</script>

<!-- swiftype End -->

  </body>
</html>
